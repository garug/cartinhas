<h1>{{deck.name}}</h1>
<div class="row d-flex align-items-center">
  <app-bar-types [colors]="deck.colors" [iconSize]="30"></app-bar-types>
  <app-bar-raritys [deck]="deck" class="flex-grow-1"></app-bar-raritys>
</div>
<section>
  <h2>Deck List</h2>

  <ul *ngFor="let object of deck.cards | groupBy:'types'">
      {{ object.key }}
      <li *ngFor="let object of object.value ; let i = index ;let c = count;">
        <span *ngIf="i === c-1">
             {{c}}x -  {{ object.name }}
          </span>
          <!--  {{ object | json }}-->
      </li>
  </ul>

  <ng-container *ngFor="let type of deck.allTypes()">
    <article *ngIf="deck.list(type)">
      <h3>{{type}}({{deck.countTypes(type)}})</h3>
      <ul>
        <li class="d-flex" *ngFor="let card of deck.list(type)">
          <ng-container *ngIf="card.name else loading">            
            <span class="flex-grow-1">{{contCard(card)}}x {{card.name}}</span>
            <span></span>
            <span>
              {{card.manaCost}}
            </span>
          </ng-container>
        </li>
      </ul>
    </article>
  </ng-container>
  <button class="btn btn-block btn-primary">Export to Arena</button>
</section>

<ng-template #loading>Loading...</ng-template>